{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/add-button/component.ts","./src/app/components/add-button/component.html","./src/app/components/note-list/component.ts","./src/app/components/note-list/component.html","./src/app/components/note-single/component.ts","./src/app/components/note-single/component.html","./src/app/controllers/db.js","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'test-angular-app';\n}\n","<note-list></note-list>\n<add-button\n    class=\"round btn shadow-1\"\n></add-button>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport NoteList from './components/note-list/component';\nimport NoteSingle from './components/note-single/component';\nimport AddButton from './components/add-button/component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NoteList,\n    NoteSingle,\n    AddButton,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n  ],\n  providers: [ ],\n  bootstrap: [ AppComponent, NoteList ]\n})\nexport class AppModule { }\n","import { Component } from '@angular/core';\nimport * as DB from '../../controllers/db';\n\n@Component({\n  selector: 'add-button',\n  templateUrl: './component.html',\n  styleUrls: ['./component.scss']\n})\nexport default class AddButton {\n  onClick(){\n    const count = DB.get('noteCount');\n    DB.set('noteCount', count + 1)\n  }\n}\n","<div (click)=\"onClick()\">\n    <i aria-hidden=\"true\" class=\"material-icons mdc-fab__icon\">add</i>\n</div>\n","import { Component, ViewEncapsulation } from '@angular/core';\nimport * as DB from '../../controllers/db';\n\n@Component({\n  selector: 'note-list',\n  templateUrl: './component.html',\n  styleUrls: [ './component.scss' ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport default class NoteList {\n  notes: number[] = []\n  constructor(){\n    DB.onChange('noteCount', this.updateNotes.bind(this));\n    this.updateNotes(DB.get('noteCount'))\n  }\n  updateNotes(count: number | null){\n    this.notes = new Array(+count!).fill(void 0).map((_, i) => i)\n  }\n}\n","<note-single\n    *ngFor=\"let noteId of notes;\"\n    [attr.data-id]=\"noteId\"\n    class=\"shadow-1 blk-material\"\n></note-single>\n<add-button\n    class=\"shadow-1 blk-material\"\n></add-button>\n","import { Component, ElementRef, OnInit, OnDestroy, ViewEncapsulation, Renderer2 } from '@angular/core';\nimport * as DB from '../../controllers/db';\n\ntype Note = {\n  done: boolean,\n  text: string,\n  i: number,\n}[]\n\nfunction sortNote(arr: Note){\n  return arr.filter(a => !a.done).concat(arr.filter(a => a.done))\n}\n\nfunction getNoteList(element: Element): Element{\n  return element.nodeName === 'NOTE-LIST' ? element : getNoteList(element.parentElement!)\n}\n\n@Component({\n  selector: 'note-single',\n  templateUrl: './component.html',\n  styleUrls: [ './component.scss' ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport default class NoteSingle implements OnInit, OnDestroy{\n  id: string = ''\n  element: Element\n  noteData: Note = []\n  sortedNotes: Note = []\n  count: number = 0\n  active: boolean = false\n  name: string = ''\n  unnamed_text = 'Unnamed note'\n  constructor(elm: ElementRef, private renderer: Renderer2){\n    this.element = elm.nativeElement;\n    this.getInitialData = this.getInitialData.bind(this) // to use as a predefined listener on DB changes\n  }\n  remove(e: Event){\n    e.stopPropagation();\n    (document.activeElement as HTMLElement).blur();\n    const noteCount = DB.get('noteCount');\n    // clear self first\n    const selfCount = +DB.get('note' + this.id);\n    DB.remove(`note${this.id}`);\n    DB.remove(`note${this.id}.name`);\n    for(let i = 0; i < selfCount; i++){\n      DB.remove(`note${this.id}.${i}done`);\n      DB.remove(`note${this.id}.${i}text`);\n    }\n    for(let id = +this.id + 1; id < noteCount; id++){\n      const count = +DB.get('note' + id);\n      DB.set(`note${id - 1}`, count);\n      DB.set(`note${id - 1}.name`, DB.get(`note${id}.name`));\n      DB.remove(`note${id}`);\n      DB.remove(`note${id}.name`);\n      for(let i = 0; i < count; i++){\n        DB.set(`note${id - 1}.${i}done`, DB.get(`note${id}.${i}done`));\n        DB.set(`note${id - 1}.${i}text`, DB.get(`note${id}.${i}text`));\n        DB.remove(`note${id}.${i}done`);\n        DB.remove(`note${id}.${i}text`);\n      }\n    }\n    DB.clearCache();\n    DB.set('noteCount', noteCount - 1);\n    for(let id = +this.id; id < noteCount; id++) DB.set(`note${id}.switch`, +!DB.get(`note${id}.switch`));\n  }\n  getInitialData(){\n    const id = this.element.getAttribute('data-id')!;\n    this.id = id;\n    this.name = DB.get(`note${id}.name`);\n    this.count = +DB.get('note' + id);\n    this.noteData = new Array(this.count).fill(void 0).map((_, i) => ({\n      done: DB.get(`note${id}.${i}done`) || false,\n      text: DB.get(`note${id}.${i}text`) || '',\n      i,\n    }));\n    this.addNext();\n    this.sortNotes();\n  }\n  ngOnInit(){\n    this.getInitialData();\n    this.renderer.listen(this.element, 'click', () => {\n      if(this.active) return;\n      this.active = true;\n      this.renderer.addClass(this.element, 'active');\n      this.renderer.addClass(getNoteList(this.element), 'has-active');\n    });\n    DB.onChange(`note${this.id}.switch`, this.getInitialData)\n  }\n  ngOnDestroy(){\n    DB.offChange(`note${this.id}.switch`, this.getInitialData)\n  }\n  sortNotes(){\n    this.sortedNotes = sortNote(this.noteData).filter(v => v.text).slice(0, 3)\n  }\n  addNext(){\n    this.noteData.push({\n      i: this.noteData.length,\n      done: false,\n      text: '',\n    })\n  }\n  setDone(i: number, { checked }: any){\n    DB.set(`note${this.id}.${i}done`, checked);\n    this.noteData.filter(v => v.i === i)[0].done = checked;\n    this.sortNotes();\n  }\n  setText(i: number, { value }: any){\n    if(this.count === i){\n      DB.set('note' + this.id, ++this.count);\n      this.addNext();\n    }\n    DB.set(`note${this.id}.${i}text`, value);\n    this.noteData.filter(v => v.i === i)[0].text = value;\n    while(i !== -1 && !value && this.count === i + 1){\n      this.noteData = this.noteData.slice(0, -1);\n      DB.set('note' + this.id, --this.count);\n      value = DB.get(`note${this.id}.${--i}text`);\n    }\n    this.sortNotes();\n  }\n  setName({ value }: any){\n    this.name = value;\n    DB.set(`note${this.id}.name`, value)\n  }\n  clickCancel(e: any){\n    e.stopPropagation();\n    this.active = false;\n    this.renderer.removeClass(this.element, 'active');\n    this.renderer.removeClass(getNoteList(this.element), 'has-active');\n  }\n}\n","<button\n    class=\"round cancel shadow-1\"\n    (click)=\"clickCancel($event)\"\n><i class=\"material-icons\">arrow_back</i></button>\n\n<h6\n    class=\"{{ name ? null : 'unnamed' }}\"\n>{{ name ? name : unnamed_text }}</h6>\n<input\n    [placeholder]=\"unnamed_text\"\n    (keyup)=\"setName($event.target)\"\n    [value]=\"name\"\n>\n\n<div>\n    <div *ngFor=\"let todo of (active ? noteData : sortedNotes);\">\n        <input\n            type=\"checkbox\"\n            (change)=\"setDone(todo.i, $event.target)\"\n            [attr.checked]=\"todo.done ? 'checked' : null\"\n        >\n        <input\n            (keyup)=\"setText(todo.i, $event.target)\"\n            placeholder=\"Text here\"\n            [value]=\"todo.text\"\n        >\n    </div>\n</div>\n\n<button\n    class=\"delete\"\n    (click)=\"remove($event)\"\n><i class=\"material-icons\">delete_outline</i></button>\n","const cache = Object.create(null);\nconst handlers = Object.create(null);\n\nexport function get(name){\n    if(!(name in cache)){\n        const raw = localStorage.getItem(name);\n        try{\n            cache[name] = JSON.parse(raw)\n        } catch(e){\n            cache[name] = null\n        }\n    }\n    return cache[name]\n}\n\nexport function set(name, value){\n    value = JSON.parse(JSON.stringify(value));\n    localStorage.setItem(name, JSON.stringify(value));\n    cache[name] = value;\n    for(const handler of handlers['u:' + name] || []) handler(value, 'update')\n}\n\nexport function remove(name){\n    localStorage.removeItem(name);\n    for(const handler of handlers['d:' + name] || []) handler(void 0, 'remove')\n}\n\nfunction addHandler(name, handler){\n    if(!handlers[name]) handlers[name] = [];\n    handlers[name].push(handler) - 1\n}\n\nfunction removeHandler(name, handler){\n    if(!handlers[name]) handlers[name] = [];\n    handlers[name] = (handlers[name] || []).filter(v => v !== handler)\n}\n\nexport function onChange(name, callback){\n    addHandler('u:' + name, callback);\n    addHandler('d:' + name, callback)\n}\n\nexport function offChange(name, callback){\n    removeHandler('u:' + name, callback);\n    removeHandler('d:' + name, callback)\n}\n\nexport function clearCache(){\n    for(const i in cache) delete cache[i]\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}